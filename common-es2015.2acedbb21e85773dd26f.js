(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{dkQn:function(t,i,c){"use strict";c.d(i,"a",(function(){return l}));var e=c("p8zw"),a=c("fXoL"),r=c("X5me"),s=c("zguN"),b=c("tyNb"),n=c("ryO2"),o=c("500h"),h=c("5n5H"),d=c("ofXK");function u(t,i){if(1&t){const t=a.Ob();a.Nb(0,"div",12),a.Nb(1,"div",13),a.Vb("click",(function(){a.fc(t);const c=i.$implicit;return a.Xb().getDetail(c)})),a.Lb(2,"img",3),a.Nb(3,"p"),a.kc(4),a.Mb(),a.Nb(5,"p"),a.kc(6),a.Mb(),a.Mb(),a.Mb()}if(2&t){const t=i.$implicit;a.ac("node",t),a.zb(2),a.bc("src",t.img,a.gc),a.zb(2),a.lc(t.name),a.zb(2),a.mc("",t.price,"$")}}let l=(()=>{class t{constructor(t,i,c,e,a,r){this.local=t,this.auth=i,this.apiService=c,this.localer=e,this.route=a,this.userService=r,this.idUser=!!this.localer.getLocalStorage("TOKEN")&&this.localer.getLocalStorage("TOKEN").currentUser.id}checkFa(){this.idUser&&this.apiService.get(e.b.users,"/"+this.idUser).subscribe(t=>{this.curentFa=JSON.parse(t.favorite);for(let i=0;i<this.curentFa.length;i++)if(this.data.id===this.curentFa[i].id){this.curentFa[i].state=!0,this.data=this.curentFa[i];break}})}getDetail(t){this.localer.saveLocalStorage(t,"DETAIL"),this.userService.changeProduct(t),this.route.navigateByUrl("/detail/"+t.id)}ngOnInit(){this.userService.currentProduct.subscribe(t=>{this.data=t,this.checkFa()}),this.auth.currentStatus.subscribe(t=>{this.isLogin=t}),this.apiService.get(e.b.category,"/"+this.data.categoryId+"/products?page=1&limit=4").subscribe(t=>{this.category=t}),this.ctg=1==this.data.categoryId?"Thu\u1ed1c k\xea \u0111\u01a1n":2==this.data.categoryId?"Thu\u1ed1c kh\xf4ng k\xea \u0111\u01a1n":"Th\u1ef1c ph\u1ea9m ch\u1ee9c n\u0103ng"}}return t.\u0275fac=function(i){return new(i||t)(a.Kb(r.a),a.Kb(s.a),a.Kb(e.a),a.Kb(r.a),a.Kb(b.a),a.Kb(n.a))},t.\u0275cmp=a.Eb({type:t,selectors:[["app-product-detail"]],decls:28,vars:10,consts:[["appFavorite","",1,"detail",3,"node"],[1,"row"],[1,"col-sm-6","img-detail"],[3,"src"],[1,"col-sm-6"],["src","assets/anything/arrow.png",1,"arrow"],[1,"price"],[1,"btn","btn-link"],[1,"far","fa-heart"],[1,"category"],[1,"flex-box"],["appFavorite","",3,"node",4,"ngFor","ngForOf"],["appFavorite","",3,"node"],[3,"click"]],template:function(t,i){1&t&&(a.Nb(0,"section",0),a.Nb(1,"div",1),a.Nb(2,"div",2),a.Lb(3,"img",3),a.Mb(),a.Nb(4,"div",4),a.Nb(5,"h4"),a.kc(6),a.Mb(),a.Lb(7,"img",5),a.Nb(8,"h3",6),a.kc(9),a.Mb(),a.Nb(10,"h4"),a.kc(11,"Gi\u01a1\u0301i thi\xea\u0323u"),a.Mb(),a.Nb(12,"p"),a.kc(13),a.Mb(),a.Lb(14,"hr"),a.Nb(15,"p"),a.kc(16),a.Mb(),a.Lb(17,"hr"),a.Nb(18,"button",7),a.Nb(19,"i"),a.kc(20),a.Mb(),a.Mb(),a.Lb(21,"i",8),a.Mb(),a.Mb(),a.Mb(),a.Nb(22,"section",9),a.Nb(23,"h2"),a.kc(24,"Thu\xf4\u0301c c\xf9ng danh m\u1ee5c"),a.Mb(),a.Lb(25,"app-line"),a.Nb(26,"div",10),a.jc(27,u,7,4,"div",11),a.Mb(),a.Mb()),2&t&&(a.ac("node",i.data),a.zb(3),a.bc("src",i.data.img,a.gc),a.zb(3),a.lc(i.data.name),a.zb(3),a.mc("",i.data.price," $"),a.zb(4),a.lc(i.data.description),a.zb(3),a.mc("Danh m\u1ee5c: ",i.ctg,""),a.zb(4),a.lc(i.data.state?"Un Favorite":"Favorite"),a.zb(1),a.ic("color",i.data.state?"red":"grey"),a.zb(6),a.ac("ngForOf",i.category))},directives:[o.a,h.a,d.h],styles:[""]}),t})()}}]);